scene.onHitWall(SpriteKind.Player, function (sprite, location) {
	
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    JumpsLeft()
})
function AnimatePlayer () {
    characterAnimations.loopFrames(
    PLayerSprite,
    [img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `],
    500,
    characterAnimations.rule(Predicate.MovingLeft)
    )
}
function JumpsLeft () {
    if (Jump_Ability < 4) {
        PLayerSprite.setVelocity(0, -150)
        Jump_Ability = Jump_Ability + 1
    }
}
function Background2 () {
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
}
function Bouncing () {
    if (PLayerSprite.tileKindAt(TileDirection.Bottom, assets.tile`BouncePad`)) {
        PLayerSprite.setVelocity(0, -200)
        PLayerSprite.startEffect(effects.confetti, 500)
    }
}
function Place_platform (row: number, column: number, width: number) {
    for (let index1 = 0; index1 <= row; index1++) {
        for (let index2 = 0; index2 <= column; index2++) {
            if (Math.percentChance(2)) {
                if (!(tiles.tileAtLocationEquals(tiles.getTileLocation(index2, index1), assets.tile`StaticTile`))) {
                    tiles.setTileAt(tiles.getTileLocation(index2, index1), assets.tile`StaticTile`)
                    tiles.setWallAt(tiles.getTileLocation(index2, index1), true)
                } else {
                	
                }
            }
            if (Math.percentChance(1)) {
                if (!(tiles.tileAtLocationEquals(tiles.getTileLocation(index2, index1), assets.tile`BouncePad`))) {
                    tiles.setTileAt(tiles.getTileLocation(index2, index1), assets.tile`BouncePad`)
                    tiles.setWallAt(tiles.getTileLocation(index2, index1), true)
                } else {
                	
                }
            }
        }
    }
}
let Jump_Ability = 0
let PLayerSprite: Sprite = null
tiles.setCurrentTilemap(tilemap`level1`)
let Background = [assets.image`earth`, assets.image`blue`, assets.image`red`]
PLayerSprite = sprites.create(assets.image`playerAsset`, SpriteKind.Player)
let mySprite = sprites.create(assets.image`enemy`, SpriteKind.Player)
PLayerSprite.ay = 200
PLayerSprite.setStayInScreen(true)
PLayerSprite.setPosition(4, 45)
scene.cameraFollowSprite(PLayerSprite)
Jump_Ability = 0
controller.moveSprite(PLayerSprite, 100, 0)
Background2()
Place_platform(48, 16, 3)
forever(function () {
    if (PLayerSprite.isHittingTile(CollisionDirection.Bottom)) {
        Jump_Ability = 0
    }
    Bouncing()
})
